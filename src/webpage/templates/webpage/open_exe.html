<!DOCTYPE html>
{% load static %}
{% load jsonify %}
{% load rpdot %}
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">

    {% block custom_meta %}
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    {% endblock %}



    <script src="{{ js_config.js_lib.jquery }}"></script>
    <!--<script src="https://cdn.bootcss.com/vue/2.5.15/vue.min.js"></script>-->

    <link rel="stylesheet" href="{{ js_config.js_lib.font_awesome }}">

    <script src="{{ js_config.js_lib.vuejs }}"></script>

    <link rel="stylesheet" href="{{ js_config.js_lib.bootstrap_css }}">
    <script src="{{ js_config.js_lib.bootstrap }}"></script>
    <script src="{{ js_config.js_lib.layer }}"></script>

    <script src="{{ js_config.js_lib.nice_validator }}"></script>
    <link rel="stylesheet" href="{{ js_config.js_lib.nice_validator_css }}">
    <!--<script src="https://cdn.bootcss.com/nice-validator/1.1.3/jquery.validator.min.js?local=zh-CN"></script>-->
    <!--<link href="https://cdn.bootcss.com/nice-validator/1.1.3/jquery.validator.min.css" rel="stylesheet">-->


    <!--<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">-->
    <!-- Font Awesome -->
    <!--<link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">-->
    <!-- Ionicons -->
    <!--<link rel="stylesheet" href="bower_components/Ionicons/css/ionicons.min.css">-->
    <!-- Theme style -->

    <link rel="stylesheet" href="{{ js_config.js_lib.adminlte_css }}">
    <script src="{{ js_config.js_lib.adminlte }}"></script>
    <link rel="stylesheet" href="{{ js_config.js_lib.adminlte_blue_css }}">

    <link rel="stylesheet" href="{{ js_config.js_lib.nprogress_css }}">
    <script src="{{ js_config.js_lib.nprogress }}"></script>
    <script src="{{ js_config.js_lib.md5 }}"></script>

    <!--<link rel="stylesheet" href="https://cdn.bootcss.com/admin-lte/2.4.3/css/AdminLTE.min.css">-->
    <!-- AdminLTE Skins. We have chosen the skin-blue for this starter
          page. However, you can choose any other skin. Make sure you
          apply the skin class to the body tag so the changes take effect. -->
    <!--<link rel="stylesheet" href="https://cdn.bootcss.com/admin-lte/2.4.3/css/skins/skin-blue.min.css">-->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <!--<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>-->
    <!--<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>-->
    <![endif]-->
    {% block site-head %}
    <title>网站</title>
    {% endblock %}

    <script src="{{ js_config.js_lib.exfun }}"></script>
    <script src="{{ js_config.js_lib.site_pc_pack_js }}"></script>


    <script>
    </script>


</head>

<script>
    var funDownload = function (content, filename) {
        // 创建隐藏的可下载链接
        var eleLink = document.createElement('a');
        eleLink.download = filename;
        eleLink.style.display = 'none';
        // 字符内容转变成blob地址
        var blob = new Blob([content]);
        eleLink.href = URL.createObjectURL(blob);
        // 触发点击
        document.body.appendChild(eleLink);
        eleLink.click();
        // 然后移除
        document.body.removeChild(eleLink);
    };
</script>
<script>

    Vue.config.devtools = true
    $(function(){
        new Vue({
            el:'#there',
            data:{
                path:'E:\\xxx.bat'
            },
            methods:{
                download:function(){
                    var path = this.path
                    path = path.replace(/\\/g,'\\\\')
                    var bb=`Windows Registry Editor Version 5.00
[HKEY_CLASSES_ROOT\\Webshell]
@="URL:Webshell Protocol Handler"
"URL Protocol"=""
[HKEY_CLASSES_ROOT\\Webshell\\DefaultIcon]
@="${path}"
[HKEY_CLASSES_ROOT\\Webshell\\shell]
[HKEY_CLASSES_ROOT\\Webshell\\shell\\open]
[HKEY_CLASSES_ROOT\\Webshell\\shell\\open\\command]
@="\\"${path}\\" \\"%1\\""
`
                   funDownload(bb,'haha.reg')
                }
            }
        })
    })
</script>

<body>
<div id="there">
    <label for="jj"> EXE路径<input id="jj" type="text" v-model="path"></label>

    <button @click="download()">download</button>

    <a href="Webshell://C:/Users/heyul/Desktop/1693047502.jpg">open exe</a>
</div>




</body>





</html>